@model IEnumerable<AAS.Web.Models.Collection>
@using AAS.Web.Models
@inject Microsoft.Extensions.Localization.IStringLocalizer<SharedResources> L

<div class="section">
  <h1 class="page-heading">@L["Collections"]</h1>
  <p class="page-description">
    Explore our curated selection of fine art, jewelry, watches, and collectibles
  </p>

  <div class="d-flex justify-content-center flex-wrap gap-2 mb-5">
    <a class="btn btn-sm btn-outline-secondary" href="/Collections">All</a>
    <a class="btn btn-sm btn-outline-secondary" href="/Collections?category=@CollectionCategory.Paintings">@L["Paintings"]</a>
    <a class="btn btn-sm btn-outline-secondary" href="/Collections?category=@CollectionCategory.Jewelry">@L["Jewelry"]</a>
    <a class="btn btn-sm btn-outline-secondary" href="/Collections?category=@CollectionCategory.Watches">@L["Watches"]</a>
    <a class="btn btn-sm btn-outline-secondary" href="/Collections?category=@CollectionCategory.Statues">@L["Statues"]</a>
    <a class="btn btn-sm btn-outline-secondary" href="/Collections?category=@CollectionCategory.Other">@L["Other"]</a>
  </div>

  @if (!Model.Any())
  {
    <div class="text-center py-5">
      <div class="mb-4" style="font-size: 4rem; color: var(--gold); opacity: 0.5;">◆</div>
      <h3 class="h4 mb-3">No Collections Available</h3>
      <p class="text-secondary">Check back soon for new additions to our collection.</p>
    </div>
  }
  else
  {
    <div class="row g-4">
      @foreach (var c in Model)
      {
        var first = c.Images.OrderBy(i=>i.SortOrder).FirstOrDefault();
        <div class="col-12 col-sm-6 col-md-4 col-lg-3">
          <a class="card hover-card text-decoration-none" href="/collections/@c.Slug">
            @if(first != null){
              <div style="aspect-ratio: 1; overflow: hidden; border-radius: 12px 12px 0 0;">
                <img class="card-img-top" loading="lazy" alt="@c.Title"
                     src="/uploads/images/@first.FileName-480.jpg"
                     srcset="/uploads/images/@first.FileName-480.jpg 480w, /uploads/images/@first.FileName-960.jpg 960w, /uploads/images/@first.FileName-1600.jpg 1600w"
                     sizes="(max-width: 768px) 50vw, 25vw"
                     style="width: 100%; height: 100%; object-fit: cover;" />
              </div>
            }
            else
            {
              <div style="aspect-ratio: 1; background: var(--light-gray); display: flex; align-items: center; justify-content: center; border-radius: 12px 12px 0 0;">
                <span style="font-size: 3rem; color: var(--gold); opacity: 0.3;">◆</span>
              </div>
            }
            <div class="card-body">
              <h5 class="card-title mb-2">@c.Title</h5>
              <span class="badge badge-gold">@c.Category</span>
            </div>
          </a>
        </div>
      }
    </div>
  }
</div>