@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager
@inject Microsoft.Extensions.Localization.IStringLocalizer<SharedResources> L

@if (SignInManager.IsSignedIn(User))
{
    @if (User.IsInRole("Admin"))
    {
        <li class="nav-item">
            <a class="nav-link admin-link" asp-area="Admin" asp-controller="Collections" asp-action="Index">
                <span class="admin-icon">âœ¦</span> @L["Admin Panel"]
            </a>
        </li>
    }
    <li class="nav-item">
        <a class="nav-link" asp-area="Identity" asp-page="/Account/Manage/Index" title="@L["Manage"]">
            <span class="user-greeting">@User.Identity?.Name</span>
        </a>
    </li>
    <li class="nav-item">
        <form class="form-inline d-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
            <button type="submit" class="nav-link btn btn-link">@L["Logout"]</button>
        </form>
    </li>
}
else
{
    <li class="nav-item">
        <a class="nav-link" asp-area="Identity" asp-page="/Account/Register">@L["Register"]</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" asp-area="Identity" asp-page="/Account/Login">@L["Login"]</a>
    </li>
}

<style>
.admin-link {
    background: linear-gradient(135deg, rgba(212, 175, 55, 0.15) 0%, rgba(212, 175, 55, 0.05) 100%);
    border: 1px solid rgba(212, 175, 55, 0.3);
    border-radius: 4px;
    font-weight: 600;
}

.admin-link:hover {
    background: linear-gradient(135deg, rgba(212, 175, 55, 0.25) 0%, rgba(212, 175, 55, 0.15) 100%);
    border-color: var(--gold);
}

.admin-icon {
    display: inline-block;
    font-size: 1.1em;
    margin-right: 0.25rem;
}

.user-greeting {
    color: var(--gold-light);
    font-weight: 500;
}
</style>
